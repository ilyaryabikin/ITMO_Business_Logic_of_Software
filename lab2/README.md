## Задание

Доработать приложение из [лабораторной работы #1](../lab1), реализовав в нём управление транзакциями и разграничение
доступа к операциям бизнес-логики в соответствии с заданной политикой доступа.

## Вариант

Использовать бизнес-процесс на основе сценариев использования [Drom.ru](https://www.drom.ru/)

## Порядок выполнения работы

**Управление транзакциями необходимо реализовать следующим образом:**

- Переработать согласованные с преподавателем прецеденты (или по согласованию с ним разработать новые), объединив
  взаимозависимые операции в рамках транзакций.
- Управление транзакциями необходимо реализовать с помощью Spring JTA.
- В реализованных (или модифицированных) прецедентах необходимо использовать программное управление транзакциями.
- В качестве менеджера транзакций необходимо использовать Atomikos.

**Разграничение доступа к операциям необходимо реализовать следующим образом:**

- Разработать, специфицировать и согласовать с преподавателем набор привилегий, в соответствии с которыми будет
  разграничиваться доступ к операциям.
- Специфицировать и согласовать с преподавателем набор ролей, осуществляющих доступ к операциям бизнес-логики
  приложения.
- Реализовать разработанную модель разграничений доступа к операциям бизнес-логики на базе Spring Security + JAAS.
  Информацию об учётных записях пользователей необходимо сохранять ~~в файле XML~~, для аутентификации использовать JWT.

**Правила выполнения работы:**

- Все изменения, внесённые в реализуемый бизнес-процесс, должны быть учтены в описывающей его модели, REST API и наборе
  скриптов для тестирования публичных интерфейсов модуля.
- Развернуть разработанное приложение ~~на сервере helios~~ на любом сервере с общедоступным URL для тестирования
  запросов.

## Содержание отчёта

1. Текст задания.
2. Модель потока управления для автоматизируемого бизнес-процесса.
3. Спецификация пользовательских привилегий и ролей, реализованных в приложении.
4. UML-диаграммы классов и пакетов разработанного приложения.
5. Спецификация REST API для всех публичных интерфейсов разработанного приложения.
6. Исходный код системы или ссылка на репозиторий с исходным кодом.
7. Выводы по работе.

## Вопросы к защите лабораторной работы

1. Понятие транзакции. Особенности реализации транзакций на уровне бизнес-логики, отличия от транзакций на уровне БД.
2. Распределённые транзакции, спецификация XA. Реализация в приложениях на базе Java EE и Spring.
3. Реализация управления транзакциями в Spring. Аннотация @Transactional. Декларативное и программное управления
   транзакциями.
4. Java Transaction API. Основные принципы и программные интерфейсы. Работа с JTA в приложениях на базе Spring / Spring
   Boot.
5. Менеджеры транзакций: Atomikos, Bitronix. Использование менеджера транзакций Java EE в приложениях на базе Spring /
   Spring Boot.
6. Разграничение доступа и политики безопасности в корпоративных приложениях. Пользователи, роли и привилегии.
   Реализация политик безопасности на уровне бизнес-логики.
7. Технология Spring Security. Основные понятия, аннотации, конфигурационные файлы и API. Использование на уровне
   бизнес-логики.
8. Технология JAAS. Основные понятия, конфигурационные файлы и API. Использование на уровне бизнес-логики, в т.ч.
   совместно с Spring Security.
9. Способы хранения информации об учётных записях пользователей в приложениях на Java.
10. Подходы к реализации аутентификации пользователей в приложениях на Java.

